# Railway Configuration
# This file helps Railway understand how to deploy your app optimally

[build]
command = "npm install && npm run build"

[deploy]
startCommand = "npm start"
healthcheckPath = "/api/health"
restartPolicyType = "always"

# Persistent storage for uploaded files and database
[[volumes]]
source = "uploads"
destination = "/app/uploads"

[[volumes]]
source = "data"
destination = "/app/data"

[env]
NODE_ENV = "production"
PORT = "5000"
DATABASE_URL = "/app/data/campusvault.db"